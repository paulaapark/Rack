<app-default-head></app-default-head>

<ion-content [fullscreen]="true" id="main-content" class="ion-padding">
  <!-- *ngIf to show/hide each respective div as needed in the sequence -->
  <div class="builder" >
    <br>
    <h2 class="title-theme">Outfit Builder</h2>
    <h5>{{ userService.currentUser.FirstName }} X RACK Collab</h5>
    <br>
    <h4>What shall we create this {{ timeOfDay }}?</h4>

    <form [formGroup]="builderForm" novalidate>
      <div formArrayName="items" class="ion-padding">
        <div *ngFor="let item of builderForm.controls.items.controls; let i=index">
          <!-- <div>
          <ion-label> Item #{{i + 1}}</ion-label>
          <ion-button slot="icon-only" fill="clear" *ngIf="builderForm.controls.items.controls.length > 1" (click)="deleteItem(i)"><ion-icon name="trash-outline"></ion-icon></ion-button>
        </div> -->
          <h5> Item #{{i + 1}}
            <ion-button slot="icon-only" fill="clear" *ngIf="builderForm.controls.items.controls.length > 1"
              (click)="deleteItem(i)"><ion-icon name="trash-outline"></ion-icon></ion-button>
          </h5>
          <div [formGroupName]="i">
            <ion-list>
              <ion-item>
                <ion-label><ion-icon name="partly-sunny-outline"></ion-icon>Season</ion-label>
                <ion-select interface="popover" placeholder="" [multiple]="true" formControlName="Season">
                  <ion-select-option name="Season" value="&Season=Spring">Spring</ion-select-option>
                  <ion-select-option name="Season" value="&Season=Summer">Summer</ion-select-option>
                  <ion-select-option name="Season" value="&Season=Fall">Fall</ion-select-option>
                  <ion-select-option name="Season" value="&Season=Winter">Winter</ion-select-option>
                  <ion-select-option name="Season" value="&Season=Spring&Season=Summer&Season=Fall&Season=Winter">Let Rack Decide!</ion-select-option>
                </ion-select>
              </ion-item>
              <ion-item>
                <ion-label><ion-icon name="shirt-outline"></ion-icon>Type</ion-label>
                <ion-select interface="popover" placeholder="" [multiple]="true" formControlName="Item_type">
                  <ion-select-option name="Item_type" value="&Item_type=Top">Top</ion-select-option>
                  <ion-select-option name="Item_type" value="&Item_type=Bottom">Bottom</ion-select-option>
                  <ion-select-option name="Item_type" value="&Item_type=Top&Item_type=Bottom">Let Rack Decide!</ion-select-option>
                </ion-select>
              </ion-item>
              <ion-item lines="none">
                <!-- <ion-label><ion-icon name="color-palette-outline"></ion-icon>Color & <ion-icon name="sparkles-outline"></ion-icon>Style Selectors Coming Soon!- Coming Soon!</ion-label> -->
                <ion-input disabled placeholder="Color & Style Selectors Coming Soon!"></ion-input>
              </ion-item>
            </ion-list>
          </div>
        </div>
      </div>
      <ion-button fill="clear" (click)="addItem()">Add another item?</ion-button>
      <br>
      <ion-button expand="block" (click)="onSubmit()">Generate!</ion-button>
    </form>
  </div>

  <div class="loading" hidden="true">
    <br>
    <h2 class="title-theme">Outfit Builder</h2>
    <h5>{{ userService.currentUser.FirstName }} X RACK Collab</h5>
    <br>
    <ion-progress-bar type="indeterminate"></ion-progress-bar>
  </div>

  <div class="results" hidden="true">
    <br>
    <h2 class="title-theme">Our Latest Outfit</h2>
    <h5>{{ userService.currentUser.FirstName }} X RACK Collab</h5>
    <br>
    <br>
    <ion-progress-bar type="indeterminate"></ion-progress-bar>
    <!-- loading bar for a random number of seconds between 3 and 7 and then show the content -->
    <br>
    <!-- span Item i -->
    <!-- *ngFor="let generatedItem of generated Items" to iterate through all items generated where i=index? or something -->
    <ion-card>
      <img alt="Silhouette of mountains" src="https://ionicframework.com/docs/img/demos/card-media.png" />
      <ion-card-header>
        <ion-card-title>Generated outfit card(s) - Title </ion-card-title>
        <ion-card-subtitle>#type #season</ion-card-subtitle>
      </ion-card-header>
      <ion-card-content>
        <ion-button slot="icon-only" fill="clear"><ion-icon name="information-circle-outline"></ion-icon></ion-button>
        <!-- try using a grid and columns to get this icon on the same lvl as the card header and have no content at all? -->
      </ion-card-content>
    </ion-card>
    <br>
    <h5>Hope this does the trick!</h5>
    <br>
    <br>
    <br>
    <ion-text>I think we make a good team! <a routerLink="../../../feedback">Do you?</a></ion-text>
  </div>

</ion-content>